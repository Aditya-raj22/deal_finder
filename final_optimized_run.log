2025-11-09 12:18:04,587 - __main__ - INFO - ================================================================================
2025-11-09 12:18:04,587 - __main__ - INFO - STEP 2: Run Pipeline with Pre-Generated Keywords
2025-11-09 12:18:04,588 - __main__ - INFO - ================================================================================
2025-11-09 12:18:04,592 - __main__ - INFO - Therapeutic Area: immunology_inflammation
2025-11-09 12:18:04,592 - __main__ - INFO - Date Range: 2021-01-01 to 2025-11-09
2025-11-09 12:18:04,592 - __main__ - INFO - 
Loading keywords from: config/generated_keywords.json
2025-11-09 12:18:04,592 - __main__ - INFO - ✓ Loaded 237 TA keywords
2025-11-09 12:18:04,592 - __main__ - INFO - ✓ Loaded 38 stage keywords
2025-11-09 12:18:04,592 - __main__ - INFO - ✓ Loaded 61 deal keywords
2025-11-09 12:18:04,592 - __main__ - INFO - ✓ OpenAI API key found
2025-11-09 12:18:04,592 - __main__ - INFO - 
================================================================================
2025-11-09 12:18:04,592 - __main__ - INFO - STEP 1: Load URLs from Index (--skip-crawl)
2025-11-09 12:18:04,592 - __main__ - INFO - ================================================================================
2025-11-09 12:18:04,672 - deal_finder.discovery.url_index - INFO - Loaded URL index: 50615 URLs already crawled
2025-11-09 12:18:04,704 - deal_finder.discovery.url_index - INFO - Loaded 50615 URLs from index
2025-11-09 12:18:04,704 - __main__ - INFO - ✓ Loaded 50615 article URLs from index
2025-11-09 12:18:04,704 - __main__ - INFO - 
================================================================================
2025-11-09 12:18:04,704 - __main__ - INFO - STEP 2: Load Articles from Checkpoint (--skip-fetch)
2025-11-09 12:18:04,704 - __main__ - INFO - ================================================================================
2025-11-09 12:18:05,471 - __main__ - INFO - ✓ Loaded checkpoint: 50463 URLs already fetched, 50463 articles
2025-11-09 12:18:05,471 - __main__ - INFO - ✓ Using 50463 articles from checkpoint
2025-11-09 12:18:05,471 - __main__ - INFO - 
================================================================================
2025-11-09 12:18:05,471 - __main__ - INFO - STEP 3: Deduplication (SKIPPED - will do after keyword filter)
2025-11-09 12:18:05,471 - __main__ - INFO - ================================================================================
2025-11-09 12:18:05,471 - __main__ - INFO - Using all 50463 articles for keyword filtering
2025-11-09 12:18:05,471 - __main__ - INFO - 
================================================================================
2025-11-09 12:18:05,471 - __main__ - INFO - STEP 4: Keyword Pre-Filter
2025-11-09 12:18:05,471 - __main__ - INFO - ================================================================================
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO - KeywordFilter initialized:
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   TA keywords: 237
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   Stage keywords: 38
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   Deal keywords: 61
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   Require deal keyword: True
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   Min TA matches: 2
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   Min deal matches: 2
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO -   Require money mention: True
2025-11-09 12:18:05,471 - deal_finder.keyword_filter - INFO - Using 8 workers for parallel filtering...
2025-11-09 12:23:48,553 - deal_finder.keyword_filter - INFO - Filter results: 3381/50463 passed (6.7%)
2025-11-09 12:23:48,597 - __main__ - INFO - ✓ Keyword Filter: 3381/50463 passed
2025-11-09 12:23:48,598 - __main__ - INFO -   Cost savings: $2824.92
2025-11-09 12:23:48,598 - __main__ - INFO - 
================================================================================
2025-11-09 12:23:48,598 - __main__ - INFO - STEP 4.5: LLM Pre-Filter (Early-Stage Deals)
2025-11-09 12:23:48,598 - __main__ - INFO - ================================================================================
2025-11-09 12:23:49,465 - deal_finder.llm_prefilter - INFO - Processing 85 batches in parallel (5 workers max)...
2025-11-09 12:23:49,465 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 1: 40 articles
2025-11-09 12:23:49,469 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 2: 40 articles
2025-11-09 12:23:49,479 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 3: 40 articles
2025-11-09 12:23:49,480 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 4: 40 articles
2025-11-09 12:23:49,491 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 5: 40 articles
2025-11-09 12:24:06,969 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-09 12:24:06,983 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 6: 40 articles
2025-11-09 12:28:30,136 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-09 12:28:30,163 - deal_finder.llm_prefilter - ERROR - Failed to parse LLM response: {
  "results": [
    {"passes": false, "reason": "Not a deal, just a general article about trends."},
    {"passes": false, "reason": "Not a deal, lacks information on immunology or inflammation."},
 
2025-11-09 12:28:30,166 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 7: 40 articles
2025-11-09 12:28:45,353 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-09 12:28:45,362 - deal_finder.llm_prefilter - ERROR - Failed to parse LLM response: {
  "results": [
    {"passes": false, "reason": "Not a deal, just general content."},
    {"passes": false, "reason": "No mention of immunology or inflammation."},
    {"passes": false, "reason": "No
2025-11-09 12:28:45,363 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 8: 40 articles
2025-11-09 12:29:15,957 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-09 12:29:15,992 - deal_finder.llm_prefilter - ERROR - Failed to parse LLM response: {
  "results": [
    {"passes": false, "reason": "Not a deal, just research news."},
    {"passes": false, "reason": "Not related to immunology_inflammation."},
    {"passes": false, "reason": "Not a 
2025-11-09 12:29:15,994 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 9: 40 articles
2025-11-09 12:29:43,902 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-09 12:29:43,925 - deal_finder.llm_prefilter - ERROR - Failed to parse LLM response: {
  "results": [
    {"passes": false, "reason": "Not a business deal."},
    {"passes": false, "reason": "Not a business deal."},
    {"passes": false, "reason": "Not an early-stage deal; involves a 
2025-11-09 12:29:43,927 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 10: 40 articles
2025-11-09 12:30:23,648 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-09 12:30:23,692 - deal_finder.llm_prefilter - ERROR - Failed to parse LLM response: {
  "results": [
    {"passes": false, "reason": "Not a deal, just mentions an asset."},
    {"passes": false, "reason": "Not a deal, just mentions a licensing agreement."},
    {"passes": false, "rea
2025-11-09 12:30:23,695 - deal_finder.llm_prefilter - INFO - LLM pre-filter batch 11: 40 articles
